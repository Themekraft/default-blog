<?phpclass TK_Framework{		/**	 * The plugin version	 */	const VERSION 	= '0.1.0';		/**	 * Minimum required WP version	 */	const MIN_WP 	= '3.3';		/**	 * Minimum required PHP version	 */	const MIN_PHP 	= '5.2.1';	/**	 * Can the plugin be executed	 */	static $active = false;			/**	 * PHP 4 constructor	 *	 * @package Themekraft Framework	 * @since 0.1.0	 */	function tk_framework() {		$this->__construct();	}		/**	 * PHP 5 constructor	 *	 * @package Themekraft Framework	 * @since 0.1.0	 */	function __construct(){		global $tk_hidden_elements;		$tk_hidden_elements = array();						$this->constants();		$this->includes();	}		/**	 * Setting constants	 *	 * @package Themekraft Framework	 * @since 0.1.0	 */	function constants()	{		define( 'TKF_VERSION',	self::VERSION );		define( 'TKF_FOLDER', basename( dirname( __FILE__ ) ) );		define( 'TKF_PATH',	trailingslashit( str_replace( "\\", "/", dirname( __FILE__ ) ) ) );				$tkf_url = WP_CONTENT_URL . substr( TKF_PATH , strpos( TKF_PATH, 'wp-content' ) + 10 ) ;		define( 'TKF_URL',	trailingslashit( $tkf_url ) );	}		/**	 * Includes files for framework	 *	 * @package Themekraft Framework	 * @since 0.1.0	 */		function includes(){				// error_reporting(E_ALL);				require_once( dirname(__FILE__) . '/display.php' );		require_once( dirname(__FILE__) . '/wml-parser.php' );		require_once( dirname(__FILE__) . '/values.php' );		require_once( dirname(__FILE__) . '/html/html.php' );				require_once( dirname(__FILE__) . '/html/form.php' );				require_once( dirname(__FILE__) . '/html/form-element.php' );		require_once( dirname(__FILE__) . '/html/form-button.php' );		require_once( dirname(__FILE__) . '/html/form-checkbox.php' );		require_once( dirname(__FILE__) . '/html/form-file.php' );		require_once( dirname(__FILE__) . '/html/form-hidden.php' );		require_once( dirname(__FILE__) . '/html/form-radiobutton.php' );		require_once( dirname(__FILE__) . '/html/form-select.php' );		require_once( dirname(__FILE__) . '/html/form-terms-checklist.php' );		require_once( dirname(__FILE__) . '/html/form-terms-dropdown.php' );		require_once( dirname(__FILE__) . '/html/form-textarea.php' );		require_once( dirname(__FILE__) . '/html/form-textfield.php' );				require_once( dirname(__FILE__) . '/wp/detect.php' );				require_once( dirname(__FILE__) . '/wp/admin-page.php' );				require_once( dirname(__FILE__) . '/wp/tabs.php' );		require_once( dirname(__FILE__) . '/wp/accordion.php' );				require_once( dirname(__FILE__) . '/wp/form.php' );		require_once( dirname(__FILE__) . '/wp/form-button.php' );		require_once( dirname(__FILE__) . '/wp/form-checkbox.php' );		require_once( dirname(__FILE__) . '/wp/form-fileuploader.php' );		require_once( dirname(__FILE__) . '/wp/form-hidden.php' );		require_once( dirname(__FILE__) . '/wp/form-radiobutton.php' );		require_once( dirname(__FILE__) . '/wp/form-select.php' );		require_once( dirname(__FILE__) . '/wp/form-terms-checklist.php' );		require_once( dirname(__FILE__) . '/wp/form-terms-dropdown.php' );		require_once( dirname(__FILE__) . '/wp/form-textfield.php' );		require_once( dirname(__FILE__) . '/wp/form-textarea.php' );		require_once( dirname(__FILE__) . '/wp/form-colorpicker.php' );				require_once( dirname(__FILE__) . '/wp/form-autocomplete.php' );				require_once( dirname(__FILE__) . '/wp/export.php' );		require_once( dirname(__FILE__) . '/wp/import.php' );				require_once( dirname(__FILE__) . '/wp/metabox.php' );				require_once( dirname(__FILE__) . '/wp/shortcodes.php' );				require_once( dirname(__FILE__) . '/includes/load-js.php' );	}}function tk_framework( $args = array()  ){	global $tkf_text_domain, $tkf_text_domain_path, $tkf_text_domain_strings, $tkf_create_textfiles, $tk_hidden_elements, $tk_autocomplete_elements, $tkf_metabox_ids, $tkf_hide_class, $tkf_hide_class_options;		$tk_hidden_elements = array();	$tk_select_option_elements = array();	$tk_autocomplete_elements = array();	$tkf_metabox_ids = array();	$tkf_hide_class = array();	$tkf_hide_class_options = array();		$defaults = array(		'jqueryui_components' => array( 'jquery-cookies', 'jquery-fileuploader', 'jquery-ui-tabs', 'jquery-ui-accordion', 'jquery-colorpicker', 'jquery-ui-autocomplete', 'jquery-linedtextarea', 'jquery-autogrow-textarea', 'jquery-sheepit', 'jquery-tablednd', 'google-fonts' ),		'forms' => array(),		'text_domain' => '',		'text_domain_path' => '/lang'	);	$args = wp_parse_args($args, $defaults);	extract( $args , EXTR_SKIP );			if( count( $forms ) > 0  ){		global $tk_option_groups;		if( !is_array( $tk_option_groups ) )			$tk_option_groups = array();		$tk_option_groups = array_merge( $tk_option_groups, $forms );	}		if( count( $jqueryui_components ) > 0  ){		global $tk_jqueryui_components;		$tk_jqueryui_components = $jqueryui_components;	}		$tkf_create_textfiles = FALSE;		if( $text_domain != '' ){		$tkf_text_domain = $text_domain;		$tkf_text_domain_strings = array();				if( $text_domain_path != '' ){			$tkf_text_domain_path = $text_domain_path;			load_plugin_textdomain( $text_domain, false, dirname( plugin_basename( __FILE__ ) ) . $text_domain_path );		}	}	tk_load_framework();		add_action( 'admin_init', 'tk_register_option_groups' ); // should not be here		// add_action( 'after_setup_theme', 'tk_load_framework', 1 );		if( is_admin() )		add_action( 'admin_head', 'tk_load_jqueryui' );	else		add_action( 'wp_enqueue_scripts', 'tk_load_jqueryui' );}function tk_register_option_groups(){	global $tk_option_groups;		if( count( $tk_option_groups ) > 0){		foreach( $tk_option_groups AS $option_group ){			tk_register_wp_option_group( $option_group );		}	}}	function tk_hide_element( $id ){	global $tk_hidden_elements;	if( !in_array( $id, $tk_hidden_elements ) )		array_push( $tk_hidden_elements, $id );}function tk_load_framework(){	// Get it on!!	$tkf = new TK_Framework();}function tk_element_return( $obj, $return ){	if( 'echo' == $return ) echo $obj->get_html();	elseif( 'html' == $return ) return $obj->get_html();	else return $obj;}
